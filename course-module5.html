<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Flutter Interview Course - Module 5: Advanced Concepts</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');

    :root {
      --primary: #00FFA3;
      --accent: #00c67f;
      --bg: #010807;
      --card: rgba(3, 12, 10, 0.95);
      --border: rgba(0, 255, 163, 0.22);
      --text: #E8FFF5;
      --text-dim: #9ed7be;
      --shadow: 0 35px 100px rgba(0, 0, 0, 0.65);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: radial-gradient(circle at 15% 15%, rgba(0, 255, 163, 0.12), transparent 45%),
                  radial-gradient(circle at 80% 0%, rgba(0, 255, 163, 0.1), transparent 40%),
                  linear-gradient(135deg, #000000, #020f0c 60%, #000000);
      color: var(--text);
      padding: 42px 16px 70px;
      min-height: 100vh;
    }

    .module-wrapper {
      max-width: 1150px;
      margin: 0 auto;
      border-radius: 36px;
      border: 1px solid rgba(255, 255, 255, 0.05);
      background: var(--card);
      box-shadow: var(--shadow);
      overflow: hidden;
      position: relative;
    }

    header {
      padding: 70px 48px;
      text-align: center;
      background: linear-gradient(120deg, rgba(0, 0, 0, 0.85), rgba(0, 255, 163, 0.15));
      position: relative;
    }

    header::after {
      content: '';
      position: absolute;
      inset: 20px;
      border-radius: 30px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      pointer-events: none;
    }

    .module-pill {
      display: inline-flex;
      padding: 12px 34px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.18);
      letter-spacing: 0.14em;
      font-weight: 700;
      text-transform: uppercase;
      color: var(--text);
      background: rgba(0, 0, 0, 0.4);
      margin-bottom: 22px;
    }

    h1 {
      font-size: clamp(2.4rem, 4vw, 3.5rem);
      margin-bottom: 16px;
    }

    .subtitle {
      max-width: 820px;
      margin: 0 auto;
      line-height: 1.85;
      color: var(--text-dim);
    }

    .content {
      padding: 55px 55px 45px;
      display: flex;
      flex-direction: column;
      gap: 52px;
    }

    .lesson-divider {
      padding: 34px;
      border-radius: 28px;
      background: rgba(0, 0, 0, 0.55);
      border: 1px solid var(--border);
      box-shadow: 0 30px 65px rgba(0, 0, 0, 0.55);
      position: relative;
    }

    .lesson-divider::after {
      content: '';
      position: absolute;
      left: 40px;
      bottom: 22px;
      width: 80px;
      height: 2px;
      background: linear-gradient(90deg, rgba(255, 255, 255, 0.4), transparent);
    }

    .lesson-divider h2 { font-size: 2rem; margin-bottom: 10px; }
    .lesson-divider span { color: var(--text-dim); }

    .analogy-box {
      margin-top: 20px;
      padding: 26px;
      border-radius: 22px;
      border-left: 6px solid #FDD835;
      background: linear-gradient(135deg, rgba(0, 0, 0, 0.85), rgba(0, 255, 163, 0.08));
      border: 1px solid rgba(255, 255, 255, 0.08);
      display: flex;
      gap: 18px;
      align-items: center;
    }

    .analogy-box .emoji { font-size: 2.5rem; }

    p { line-height: 1.8; color: var(--text-dim); }

    .concept-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 22px;
      margin-top: 26px;
    }

    .concept-card {
      padding: 24px;
      border-radius: 22px;
      background: rgba(0, 0, 0, 0.55);
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: inset 0 0 30px rgba(0, 255, 163, 0.08);
    }

    .code-block {
      margin: 28px 0;
      background: #02140f;
      border-radius: 22px;
      border: 1px solid rgba(0, 255, 163, 0.2);
      padding: 26px;
      font-family: 'JetBrains Mono', 'Fira Code', monospace;
      font-size: 0.96rem;
      overflow-x: auto;
      line-height: 1.75;
      box-shadow: inset 0 0 35px rgba(0, 255, 163, 0.08);
    }

    .tip-card, .warning-card {
      padding: 22px;
      border-radius: 20px;
      margin: 24px 0;
      border: 1px solid rgba(255, 255, 255, 0.08);
      background: rgba(0, 0, 0, 0.55);
    }

    .tip-card {
      border-left: 6px solid var(--primary);
      color: var(--text);
    }

    .warning-card {
      border-left: 6px solid #ff8a65;
      color: #ffd7ca;
    }

    .comparison-table {
      width: 100%;
      border-collapse: collapse;
      border-radius: 22px;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.08);
      margin: 32px 0;
      box-shadow: 0 25px 60px rgba(0, 0, 0, 0.5);
    }

    .comparison-table th,
    .comparison-table td {
      padding: 18px;
      text-align: left;
    }

    .comparison-table th {
      background: linear-gradient(135deg, rgba(0, 255, 163, 0.25), rgba(0, 0, 0, 0.85));
      letter-spacing: 0.05em;
      color: var(--text);
    }

    .comparison-table td {
      background: rgba(0, 0, 0, 0.45);
      color: var(--text-dim);
    }

    .comparison-table tr + tr td { border-top: 1px solid rgba(255, 255, 255, 0.08); }

    .interview-section {
      padding: 34px;
      border-radius: 26px;
      background: rgba(0, 0, 0, 0.55);
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: 0 25px 60px rgba(0, 0, 0, 0.55);
    }

    .interview-section h3 { font-size: 1.8rem; margin-bottom: 20px; color: var(--text); }
    .qa-item { margin-bottom: 18px; }
    .question { color: var(--primary); font-weight: 700; }

    .navigation-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      justify-content: center;
      margin-top: 32px;
    }

    .nav-button {
      padding: 16px 30px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.14);
      text-decoration: none;
      color: var(--text);
      font-weight: 700;
      background: linear-gradient(135deg, rgba(0, 255, 163, 0.3), rgba(0, 0, 0, 0.85));
      letter-spacing: 0.08em;
      min-width: 230px;
      text-align: center;
      box-shadow: 0 25px 60px rgba(0, 0, 0, 0.55);
      transition: transform 0.3s ease;
    }

    .nav-button:hover { transform: translateY(-4px); }

    @media (max-width: 900px) {
      header, .content { padding: 40px 24px; }
      .concept-grid { grid-template-columns: 1fr; }
      .module-wrapper { border-radius: 26px; }
    }

    @media (max-width: 600px) {
      body { padding: 20px 10px 50px; }
      .content { padding: 32px 18px; }
      .navigation-buttons { flex-direction: column; }
      .nav-button { width: 100%; }
    }
  </style>
</head>
<body>
  <div class="module-wrapper">
    <header>
      <div class="module-pill">Module 5 of 8 ¬∑ Advanced Concepts</div>
      <h1>Bring Your Flutter Apps to Life</h1>
      <p class="subtitle">This module dives into the moving pieces that make production Flutter apps feel polished: lifecycle awareness, animation craftsmanship, and platform-level integrations with graceful error handling.</p>
    </header>

    <main class="content">
      <section class="lesson-divider" id="lesson1">
        <h2>Lesson 5.1 ¬∑ App Lifecycle & Observers</h2>
        <span>Lifecycle states, WidgetsBindingObserver, RouteObserver, and background tasks</span>
        <div class="analogy-box">
          <span class="emoji">üéõÔ∏è</span>
          <div>
            <h3>Explain Like You're 5</h3>
            <p>Your app is like a smart lamp. When someone leaves the room (app goes to background), the lamp dims to save power. When they come back (resumed), it brightens again. Observers are like motion sensors telling you what to do.</p>
          </div>
        </div>
        <div class="concept-grid">
          <article class="concept-card">
            <h3>Lifecycle states</h3>
            <p><strong>resumed</strong>, <strong>inactive</strong>, <strong>paused</strong>, and <strong>detached</strong> describe how close your widget tree is to the screen. Use them to pause animations, save drafts, or close sockets.</p>
          </article>
          <article class="concept-card">
            <h3>WidgetsBindingObserver</h3>
            <p>Mix into State classes to react to <code>didChangeAppLifecycleState</code>, <code>didChangeMetrics</code>, and <code>didHaveMemoryPressure</code>.</p>
          </article>
          <article class="concept-card">
            <h3>RouteObserver</h3>
            <p>Track when pages appear/disappear for analytics or to pause videos when the user navigates elsewhere.</p>
          </article>
        </div>
        <div class="code-block">
class LifecycleAwareState extends State<HomePage>
    with WidgetsBindingObserver, RouteAware {
  @override
  void initState() {
    super.initState();
    WidgetsBinding.instance.addObserver(this);
  }

  @override
  void didChangeAppLifecycleState(AppLifecycleState state) {
    if (state == AppLifecycleState.paused) {
      audioPlayer.pause();
    } else if (state == AppLifecycleState.resumed) {
      audioPlayer.play();
    }
  }

  @override
  void dispose() {
    WidgetsBinding.instance.removeObserver(this);
    super.dispose();
  }
}
        </div>
        <div class="tip-card">
          <strong>Pro Tip:</strong> Combine lifecycle callbacks with persistence (SharedPreferences, Hive) to autosave form progress when users background the app.
        </div>
      </section>

      <section class="lesson-divider" id="lesson2">
        <h2>Lesson 5.2 ¬∑ Animation Systems</h2>
        <span>Implicit vs explicit animations, AnimationController, Hero transitions, physics</span>
        <div class="analogy-box">
          <span class="emoji">üé†</span>
          <div>
            <h3>Explain Like You're 5</h3>
            <p>Implicit animations are like automatic doors‚Äîthey glide without you worrying about the motor. Explicit animations are like remote-control cars‚Äîyou steer every frame.</p>
          </div>
        </div>
        <div class="concept-grid">
          <article class="concept-card">
            <h3>Implicit Animations</h3>
            <p><code>AnimatedContainer</code>, <code>AnimatedOpacity</code>, and friends animate between values automatically. Ideal for micro-interactions.</p>
          </article>
          <article class="concept-card">
            <h3>Explicit Animations</h3>
            <p><code>AnimationController</code> orchestrates complex sequences, curves, and hero transitions. Gives full control over duration and status.</p>
          </article>
          <article class="concept-card">
            <h3>Hero & Physics</h3>
            <p>Hero widgets share element tags across routes. Physics-based animations (SpringSimulation) mimic real-world movement.</p>
          </article>
        </div>
        <div class="code-block">
class PulseButton extends StatefulWidget {
  const PulseButton({super.key});

  @override
  State<PulseButton> createState() => _PulseButtonState();
}

class _PulseButtonState extends State<PulseButton>
    with SingleTickerProviderStateMixin {
  late final AnimationController controller = AnimationController(
    vsync: this,
    duration: const Duration(milliseconds: 600),
  )..repeat(reverse: true);

  late final Animation<double> scale = Tween(begin: 1.0, end: 1.1)
      .chain(CurveTween(curve: Curves.easeInOut))
      .animate(controller);

  @override
  Widget build(BuildContext context) {
    return ScaleTransition(
      scale: scale,
      child: FloatingActionButton(
        onPressed: () {},
        child: const Icon(Icons.mic),
      ),
    );
  }

  @override
  void dispose() {
    controller.dispose();
    super.dispose();
  }
}
        </div>
        <table class="comparison-table">
          <thead>
            <tr>
              <th>Feature</th>
              <th>Implicit</th>
              <th>Explicit</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Setup time</td>
              <td>1-2 lines</td>
              <td>Controller + Tween</td>
            </tr>
            <tr>
              <td>Control</td>
              <td>Automatic</td>
              <td>Manual (repeat, reverse, status)</td>
            </tr>
            <tr>
              <td>Use cases</td>
              <td>Buttons, cards, simple transitions</td>
              <td>Coordinated scenes, Hero, custom painters</td>
            </tr>
          </tbody>
        </table>
        <div class="warning-card">
          <strong>Remember:</strong> Dispose every AnimationController or you will leak the Ticker and your app will spam the console with "A Ticker was left running" warnings.
        </div>
      </section>

      <section class="lesson-divider" id="lesson3">
        <h2>Lesson 5.3 ¬∑ Platform Powers & Error Handling</h2>
        <span>Platform channels, isolates, error boundaries, and debugging workflow</span>
        <div class="analogy-box">
          <span class="emoji">üõ∞Ô∏è</span>
          <div>
            <h3>Explain Like You're 5</h3>
            <p>Platform channels are like walkie-talkies between Flutter and native land. Each side speaks its own language but agrees on message formats.</p>
          </div>
        </div>
        <div class="concept-grid">
          <article class="concept-card">
            <h3>MethodChannel</h3>
            <p>Invoke small native APIs (Bluetooth, sensors). Structure payloads as JSON-friendly types.</p>
          </article>
          <article class="concept-card">
            <h3>EventChannel & Streams</h3>
            <p>Receive continuous updates (accelerometer, location). Remember to cancel subscriptions.</p>
          </article>
          <article class="concept-card">
            <h3>Error Boundaries</h3>
            <p><code>FlutterError.onError</code> for synchronous tree errors, <code>PlatformDispatcher.instance.onError</code> for asynchronous zones.</p>
          </article>
        </div>
        <div class="code-block">
class BatteryChannel {
  static const _channel = MethodChannel('samples.flutter.dev/battery');

  Future<int> level() async {
    try {
      final result = await _channel.invokeMethod<int>('getBatteryLevel');
      return result ?? -1;
    } on PlatformException catch (e) {
      debugPrint('Battery error: ${e.message}');
      return -1;
    }
  }
}

void main() {
  FlutterError.onError = (details) {
    FlutterError.presentError(details);
    FirebaseCrashlytics.instance.recordFlutterError(details);
  };

  runZonedGuarded(
    () => runApp(const MyApp()),
    (error, stack) => FirebaseCrashlytics.instance.recordError(error, stack),
  );
}
        </div>
        <div class="tip-card">
          <strong>Performance Insight:</strong> Use <code>compute()</code> or <code>Isolate.run()</code> for heavy JSON parsing to keep the UI thread responsive.
        </div>
      </section>

      <section class="interview-section">
        <h3>üéØ Interview Drill</h3>
        <div class="qa-item">
          <p class="question">1. How do you pause audio when the app is backgrounded?</p>
          <p>Mix in <code>WidgetsBindingObserver</code> and pause in <code>AppLifecycleState.paused</code>, resume in <code>resumed</code>.</p>
        </div>
        <div class="qa-item">
          <p class="question">2. Difference between implicit and explicit animations?</p>
          <p>Implicit widgets animate between old/new values automatically, explicit animations use controllers for fine-grained control.</p>
        </div>
        <div class="qa-item">
          <p class="question">3. When would you use <code>Hero</code> animations?</p>
          <p>To visually connect matching elements between routes (e.g., card ‚Üí details) for continuity.</p>
        </div>
        <div class="qa-item">
          <p class="question">4. How do you report uncaught async errors?</p>
          <p>Wrap <code>runApp</code> in <code>runZonedGuarded</code> and forward to Crashlytics/Sentry.</p>
        </div>
        <div class="qa-item">
          <p class="question">5. What are the channel message type limitations?</p>
          <p>Only primitive types, Lists, Maps, and Uint8List. Convert custom objects to Maps.</p>
        </div>
        <div class="qa-item">
          <p class="question">6. Why use isolates?</p>
          <p>Heavy CPU work (encryption, parsing) blocks the UI thread; isolates offload work without jank.</p>
        </div>
      </section>

      <div class="navigation-buttons">
        <a class="nav-button" href="course-module4.html">‚Üê Module 4: Routing & Navigation</a>
        <a class="nav-button" href="course-index.html">Back to Course Index</a>
        <a class="nav-button" href="course-module6.html">Module 6: Performance & Optimization ‚Üí</a>
      </div>
    </main>
  </div>
</body>
</html>
